{% extends 'base.html' %}

{% block content %}
<div class="container-fluid mt-4">
    <div class="row">
        <!-- Sidebar Navigation -->
        {% include 'shop/partials/dashboard_navbar.html' %}
        
        <!-- Chat Section -->
        <div class="col-md-9 col-lg-10 d-flex" style="height: 90vh;">
            <!-- Chat List -->
            <div class="col-md-3 border-end p-3 bg-white overflow-auto" style="height: 90vh;">
                <h5>Chats</h5>
                <ul class="list-group" id="chat-list">
                    <li class="list-group-item active">Client 1</li>
                    <li class="list-group-item">Client 2</li>
                    <li class="list-group-item">Client 3</li>
                    <li class="list-group-item">Client 4</li>
                </ul>
            </div>
            
            <!-- Chat Messages -->
            <div class="col-md-9 d-flex flex-column p-3" style="height: 90vh;">
                <h2 class="mb-3">Client Chat</h2>
                <div class="chat-box border rounded p-3 flex-grow-1 overflow-auto bg-light" id="chat-box" style="height: 75vh;">
                    <!-- Chat messages will appear here -->
                </div>
                <div class="input-group mt-3">
                    <input type="text" class="form-control" id="chat-input" placeholder="Type a message...">
                    <button class="btn btn-primary" id="send-btn">Send</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    document.getElementById("send-btn").addEventListener("click", function() {
        let input = document.getElementById("chat-input");
        let message = input.value.trim();
        if (message) {
            let chatBox = document.getElementById("chat-box");
            let messageDiv = document.createElement("div");
            messageDiv.classList.add("p-2", "mb-2", "rounded", "bg-white", "border");
            messageDiv.textContent = message;
            chatBox.appendChild(messageDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
            input.value = "";
        }
    });
</script>
{% endblock %}
