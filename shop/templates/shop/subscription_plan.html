{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="subscription-plans py-5">
  <div class="container">
    <!-- Header Section -->
    <div class="row justify-content-center mb-5">
      <div class="col-lg-8 text-center">
        <h1 class="display-5 fw-bold mb-3">Elige tu Plan Ideal</h1>
        <p class="lead">Impulsa tu negocio con las herramientas adecuadas</p>
        
        <!-- Free Trial Banner -->
        <div class="alert alert-success alert-dismissible fade show mt-4" role="alert">
          <div class="d-flex align-items-center">
            <i class="fas fa-gift fa-2x me-3"></i>
            <div>
              <h5 class="alert-heading mb-1">¡Prueba 1 mes GRATIS!</h5>
              <p class="mb-0">Todos los nuevos vendedores obtienen 30 días de prueba en cualquier plan</p>
            </div>
          </div>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      </div>
    </div>

    <!-- Plans Comparison -->
    <div class="row g-4">
      <!-- Basic Plan -->
      <div class="col-md-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-header bg-light py-4">
            <h3 class="text-center mb-0">Básico</h3>
          </div>
          <div class="card-body p-4">
            <div class="text-center mb-4">
              <span class="h2 fw-bold">$2.99</span>
              <span class="text-muted">/mes</span>
              <div class="small text-success mt-1">Prueba 30 días gratis</div>
            </div>
            
            <ul class="list-unstyled mb-4">
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Gestión de pedidos</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Gestión de productos</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> 50 productos máx.</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Soporte por correo</li>
              <li class="mb-3 text-muted"><i class="fas fa-times me-2"></i> <del>Gestión de inventario</del></li>
              <li class="text-muted"><i class="fas fa-times me-2"></i> <del>Sistema de chat</del></li>
            </ul>
          </div>
          <div class="card-footer bg-transparent border-top-0 pb-4">
            {% if user.is_authenticated %}
              <a href="{% url 'subscription.start_trial' plan='basic' %}" class="btn btn-outline-primary w-100">
                Comenzar Prueba Gratis
              </a>
            {% else %}
              <a href="{% url 'accounts.signup' %}?next={% url 'shop.subscription_plan' %}" class="btn btn-outline-primary w-100">
                Regístrate para Probar
              </a>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- Standard Plan (Recommended) -->
      <div class="col-md-4">
        <div class="card h-100 border-primary shadow-lg" style="border-width: 2px;">
          <div class="card-header bg-primary text-white py-4 position-relative">
            <span class="badge bg-warning text-dark position-absolute top-0 start-50 translate-middle py-2 px-3" style="transform: translate(-50%, -50%);">MÁS POPULAR</span>
            <h3 class="text-center mb-0">Estándar</h3>
          </div>
          <div class="card-body p-4">
            <div class="text-center mb-4">
              <span class="h2 fw-bold">$4.99</span>
              <span class="text-muted">/mes</span>
              <div class="small text-success mt-1">Prueba 30 días gratis</div>
            </div>
            
            <ul class="list-unstyled mb-4">
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Todo en Básico</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Gestión de inventario</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> 200 productos máx.</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Soporte prioritario</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Informes básicos</li>
              <li class="text-muted"><i class="fas fa-times me-2"></i> <del>Sistema de chat</del></li>
            </ul>
          </div>
          <div class="card-footer bg-transparent border-top-0 pb-4">
            {% if user.is_authenticated %}
              <a href="{% url 'subscription.start_trial' plan='standard' %}" class="btn btn-primary w-100">
                Comenzar Prueba Gratis
              </a>
            {% else %}
              <a href="{% url 'accounts.signup' %}?next={% url 'shop.subscription_plan' %}" class="btn btn-primary w-100">
                Regístrate para Probar
              </a>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- Premium Plan -->
      <div class="col-md-4">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-header bg-light py-4">
            <h3 class="text-center mb-0">Premium</h3>
          </div>
          <div class="card-body p-4">
            <div class="text-center mb-4">
              <span class="h2 fw-bold">$6.99</span>
              <span class="text-muted">/mes</span>
              <div class="small text-success mt-1">Prueba 30 días gratis</div>
            </div>
            
            <ul class="list-unstyled mb-4">
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Todo en Estándar</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Sistema de chat</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Productos ilimitados</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Soporte 24/7</li>
              <li class="mb-3"><i class="fas fa-check text-primary me-2"></i> Informes avanzados</li>
              <li><i class="fas fa-check text-primary me-2"></i> Promociones destacadas</li>
            </ul>
          </div>
          <div class="card-footer bg-transparent border-top-0 pb-4">
            {% if user.is_authenticated %}
              <a href="{% url 'subscription.start_trial' plan='premium' %}" class="btn btn-outline-primary w-100">
                Comenzar Prueba Gratis
              </a>
            {% else %}
              <a href="{% url 'accounts.signup' %}?next={% url 'shop.subscription_plan' %}" class="btn btn-outline-primary w-100">
                Regístrate para Probar
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="row justify-content-center mt-5">
      <div class="col-lg-8">
        <h3 class="text-center mb-4 fw-bold">Preguntas Frecuentes</h3>
        
        <div class="accordion" id="faqAccordion">
          <div class="accordion-item border-0 shadow-sm mb-3 rounded-3 overflow-hidden">
            <h2 class="accordion-header" id="headingOne">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                ¿Cómo funciona la prueba gratis?
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Todos los nuevos vendedores obtienen 30 días de acceso completo a cualquier plan sin costo. No se requiere tarjeta de crédito para la prueba. Al finalizar el período de prueba, podrás elegir si deseas continuar con el plan pagado.
              </div>
            </div>
          </div>
          
          <div class="accordion-item border-0 shadow-sm mb-3 rounded-3 overflow-hidden">
            <h2 class="accordion-header" id="headingTwo">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                ¿Puedo cambiar de plan después?
              </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Sí, puedes cambiar entre planes en cualquier momento desde tu panel de control. Los cambios se reflejarán en tu próxima facturación.
              </div>
            </div>
          </div>
          
          <div class="accordion-item border-0 shadow-sm rounded-3 overflow-hidden">
            <h2 class="accordion-header" id="headingThree">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                ¿Qué métodos de pago aceptan?
              </button>
            </h2>
            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
              <div class="accordion-body">
                Aceptamos tarjetas de crédito/débito (Visa, Mastercard), transferencias bancarias y PayPal. Todos los pagos son procesados de forma segura.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}